/*! angular-shims-placeholder - v0.4.4 - 2015-06-18
* https://github.com/cvn/angular-shims-placeholder
* Copyright (c) 2015 Chad von Nau; Licensed MIT */
!function(a,b,c){"use strict";a.module("ng.shims.placeholder",[]).service("placeholderSniffer",["$document",function(a){this.emptyClassName="empty",this.hasPlaceholder=function(){var b=a[0].createElement("input");return void 0!==b.placeholder}}]).directive("placeholder",["$timeout","$document","$interpolate","$injector","placeholderSniffer",function(c,d,e,f,g){if(g.hasPlaceholder())return{};var h=!1,i=parseFloat(a.version.full);try{var j=f.get("$animate")}catch(k){}return{restrict:"A",require:"?ngModel",priority:i>=1.2?110:-10,link:function(f,k,l,m){function n(a){var b=k.val();k.hasClass(N)&&b&&b===M||o(function(){p(b)},a)}function o(a,d){b.documentMode<=11&&d?c(a,0):a()}function p(a){a||0===a||t(I)?(k.removeClass(N),k.val(a)):(k.addClass(N),k.val(L?"":M)),L&&(w(),j&&x())}function q(){return m?f.$eval(l.ngModel)||"":r()||""}function r(){var a=k.val();return a===l.placeholder&&(a=""),a}function s(a,b){k.hasClass(N)&&k.val()===M&&k.val(""),M=a,n(b)}function t(a){var c=!1;try{c=a===b.activeElement}catch(d){}return c}function u(a,b){b?a.attr("unselectable","on"):a.removeAttr("unselectable")}function v(){G=a.element('<input type="text" value="'+M+'"/>'),z(),B(G),G.addClass(N).bind("focus",E),I.parentNode.insertBefore(G[0],I);for(var b=[l.ngDisabled,l.ngReadonly,l.ngRequired,l.ngShow,l.ngHide],c=0;c<b.length;c++)b[c]&&f.$watch(b[c],y)}function w(){z(),F()?B(G):k.hasClass(N)&&I!==b.activeElement?C():D()}function x(){i>=1.3?j.addClass(k,"").then(w):j.addClass(k,"",w)}function y(){j?x():w()}function z(){G.val(M),G.attr("class",k.attr("class")||"").attr("style",k.attr("style")||"").prop("disabled",k.prop("disabled")).prop("readOnly",k.prop("readOnly")).prop("required",k.prop("required")),u(G,"on"===k.attr("unselectable"))}function A(a){i>=1.2?a.removeClass(O):a.css("display","")}function B(a){i>=1.2?a.addClass(O):a.css("display","none")}function C(){B(k),A(G)}function D(){B(G),A(k)}function E(){D(),I.focus()}function F(){var a="undefined"!=typeof l.ngShow,b="undefined"!=typeof l.ngHide;return a||b?a&&!f.$eval(l.ngShow)||b&&f.$eval(l.ngHide):!1}var G,H=q(),I=k[0],J=I.nodeName.toLowerCase(),K="input"===J||"textarea"===J,L="password"===l.type,M=l.placeholder||"",N=g.emptyClassName,O="ng-hide";K&&(l.$observe("placeholder",function(a){s(a)}),L&&v(),p(H),k.bind("focus",function(){k.hasClass(N)&&(k.val(""),k.removeClass(N),I.select())}),k.bind("blur",n),m||k.bind("change",function(a){s(e(k.attr("placeholder")||"")(f),a)}),m&&(m.$render=function(){p(m.$viewValue),t(I)&&!k.val()&&I.select()}),h||(d.bind("selectstart",function(b){var c=a.element(b.target);c.hasClass(N)&&c.prop("disabled")&&b.preventDefault()}),h=!0))}}}])}(window.angular,window.document);